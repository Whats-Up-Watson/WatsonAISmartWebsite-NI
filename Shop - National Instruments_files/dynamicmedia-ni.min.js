var S7dmUtils=S7dmUtils||{};
(function(d){d=d||{};d.Viewer=function(){};d.Viewer.RETRY_JS_MAX=50;d.Viewer.prototype.retryCount=0;d.Viewer.prototype.viewerList=null;d.Viewer.prototype.load=function(d,b){if(!this.isAllLoaded(d)){this.viewerList=d;for(var h in d)$("head").append('\x3cscript type\x3d"text/javascript" src\x3d"'+b+d[h]+'"\x3e\x3c/script\x3e')}return this};d.Viewer.prototype.ready=function(g){if("undefined"==typeof s7viewers||null!=this.viewerList&&!this.isAllLoaded(this.viewerList)){var b=this;this.retryCount++;this.retryCount<
d.Viewer.RETRY_JS_MAX?setTimeout(function(){b.ready(g)},100):g.fail.call()}else g.success.call()};d.Viewer.prototype.isAllLoaded=function(d){if("undefined"==typeof s7viewers)return!1;for(var b in d)if("Responsive"==b){if("undefined"==typeof s7responsiveImage)return!1}else if("undefined"==typeof s7viewers[b])return!1;return!0}})(S7dmUtils);
(function(){function d(){$(".s7dm-dynamic-media").each(function(){g($(this))})}function g(a){var e=a.attr("id"),c=S7dmUtils[e],n=a.data("asset-type"),f=a.data("stagesize");"undefined"!=typeof c&&null!=c&&(c.dispose(),S7dmUtils[e]=null,a.removeClass("s7responsiveViewer"));a.html("");var d=a.data("viewer-type");if(d){c=l(a);c={containerId:a.attr("id"),params:c};"FlyoutViewer"==d&&f||a.addClass("s7responsiveViewer");c=new s7viewers[d](c);"undefined"!=typeof Granite&&"undefined"!=typeof Granite.I18n&&
c.setLocalizedTexts(p());S7dmUtils[e]=c;if("VideoViewer"==d){a=a.data("video-captions");var g=new ccPlayer(c,a);c.setHandlers({initComplete:function(){g.initCaptions()}});e=(e=/(?:^|;)[ \t\r\n]*locale=([-a-zA-Z]+)(?:;|$)/.exec(document.cookie))&&e[1];e.startsWith("zh")||(e=e.split("-")[0]);e=e||"en";if(a||1<a.length)for(f=0;f<a.length;f++)if(a[f].lang===e){c.setParam("caption",a[f].value+",1");break}}c.init()}else"image"===n&&(a.data("breakpoints")?h(a):b(a))}function b(a){var e=a.data("stagesize"),
c=a.data("imagepreset"),b=a.data("imageserver"),f=a.data("urlmodifiers");b={src:b+a.data("asset-path")};c&&(b.src+="?$"+c+"$");f&&(b.src+=(c?"\x26":"?")+f);e&&(e=e.split(","),b.width=e[0],1<e.length&&(b.height=e[1]));e=$("\x3cimg\x3e",b);e=k(e,a);a.append(e)}function h(a){var e=a.data("imagepreset"),c=a.data("imageserver"),b=a.data("urlmodifiers"),f=$("\x3cdiv\x3e",{"class":"s7responsiveContainer"}),d=a.attr("id")+"_resp";c={id:d,src:c+a.data("asset-path"),"class":"fluidimage","data-breakpoints":a.data("breakpoints")};
e&&(c.src+="?$"+e+"$");b&&(c.src+=(e?"\x26":"?")+b);e=$("\x3cimg\x3e",c);e=k(e,a);f.append(e);a.append(f);s7responsiveImage(document.getElementById(d))}function k(a,e){var c=e.data("linkurl"),b=e.data("linktarget");(e=e.data("alt"))&&a.attr("alt",e);return c?(c={href:c,target:b},e&&(c.alt=e,c.title=e),c=$("\x3ca\x3e",c),c.append(a),c):a}function l(a){var e=a.data("asset-path"),c=a.data("asset-type"),b=a.data("viewer-type"),f=a.data("imageserver"),d=a.data("videoserver"),h=a.data("contenturl"),g=a.data("config"),
l=a.data("wcmdisabled"),k=a.data("stagesize"),m=a.data("viewermodifiers");a=a.data("dms7");f={asset:e,serverurl:f,contenturl:h};m&&$.extend(f,q(m));l||""==l||(f.asset+="?cache\x3doff");k&&(f.stagesize=k);"FlyoutViewer"==b&&(f.imagereload="1,breakpoint,100;320;480");0!=e.indexOf("/")&&(f.aemmode="0");if(0<=b.indexOf("Video")||0<=b.indexOf("Mixed"))if(f.videoserverurl=d,"video"==c||"undefined"!=typeof a)f.playback="native",f.progressivebitrate="20000";"undefined"!=typeof g&&0<g.length&&(e=g.split("|"),
f.config=e[0]);return f}function m(){console.log("S7Viewer is missing")}function q(a){var b={};if(a){a=a.split("\x26");for(var c=0;c<a.length;c++)if(0<a[c].indexOf("\x3d")){var d=a[c].substring(0,a[c].indexOf("\x3d")),f=a[c].substring(a[c].indexOf("\x3d")+1);b[d]=f}}return b}function p(){var a={},b=Granite.I18n.getLocale(),c=s7sdk_i18n.localizedText,d={},f;for(f in c){var h=c[f],g;for(g in h)d[f+"."+g]=h[g]}a[b]=d;a.defaultLocale=Granite.I18n.getLocale();return a}var r={BasicZoomViewer:"html5/js/BasicZoomViewer.js",
FlyoutViewer:"html5/js/FlyoutViewer.js",MixedMediaViewer:"html5/js/MixedMediaViewer.js",SpinViewer:"html5/js/SpinViewer.js",VideoViewer:"html5/js/VideoViewer.js",ZoomViewer:"html5/js/ZoomViewer.js",Responsive:"libs/responsive_image.js"};$(document).ready(function(){if(0<$(".s7dm-dynamic-media").length){var a=new S7dmUtils.Viewer,b=$(".s7dm-dynamic-media").data("viewer-path"),c=$(".s7dm-dynamic-media").data("page-locale");"undefined"!=typeof Granite&&"undefined"!=typeof Granite.I18n&&Granite.I18n.setLocale(c);
var g={};$(".s7dm-dynamic-media").each(function(a,b){a=$(b).data("viewer-type")||"Responsive";g[a]=r[a]});a.load(g,b).ready({success:d,fail:m})}})}).call(this);var s7sdk_i18n=s7sdk_i18n||{localizedTexts:{}};
"undefined"!=typeof Granite&&"undefined"!=typeof Granite.I18n&&(s7sdk_i18n.localizedText={CloseButton:{TOOLTIP:Granite.I18n.get("Close")},ZoomResetButton:{TOOLTIP:Granite.I18n.get("Reset Zoom")},ZoomInButton:{TOOLTIP:Granite.I18n.get("Zoom In")},ZoomOutButton:{TOOLTIP:Granite.I18n.get("Zoom Out")},PanUpButton:{TOOLTIP:Granite.I18n.get("Pan up")},PanDownButton:{TOOLTIP:Granite.I18n.get("Pan down")},PanLeftButton:{TOOLTIP:Granite.I18n.get("Pan left")},PanRightButton:{TOOLTIP:Granite.I18n.get("Pan right")},
ScrollLeftButton:{TOOLTIP:Granite.I18n.get("Scroll left")},ScrollRightButton:{TOOLTIP:Granite.I18n.get("Scroll right")},ScrollUpButton:{TOOLTIP:Granite.I18n.get("Scroll up")},ScrollDownButton:{TOOLTIP:Granite.I18n.get("Scroll down")},InfoPanelCloseButton:{TOOLTIP:Granite.I18n.get("Close")},TwoStateButton:{},PlayPauseButton:{TOOLTIP_SELECTED:Granite.I18n.get("Play"),TOOLTIP_UNSELECTED:Granite.I18n.get("Pause"),TOOLTIP_REPLAY:Granite.I18n.get("Replay")},FullScreenButton:{TOOLTIP_SELECTED:Granite.I18n.get("Minimize"),
TOOLTIP_UNSELECTED:Granite.I18n.get("Full Screen")},ScrubberSwatchesButton:{TOOLTIP_SELECTED:Granite.I18n.get("Page Scroll"),TOOLTIP_UNSELECTED:Granite.I18n.get("Thumbnail Scroll")},ThumbnailPageButton:{TOOLTIP_SELECTED:Granite.I18n.get("Page View"),TOOLTIP_UNSELECTED:Granite.I18n.get("Grid View")},ClosedCaptionButton:{TOOLTIP_SELECTED:Granite.I18n.get("Disable Closed Captioning"),TOOLTIP_UNSELECTED:Granite.I18n.get("Enable Closed Captioning")},Download:{TOOLTIP:Granite.I18n.get("Download")},SearchButton:{TOOLTIP_SELECTED:Granite.I18n.get("Disable search"),
TOOLTIP_UNSELECTED:Granite.I18n.get("Enable search")},ScrollLeftRightButton:{TOOLTIP_SELECTED:Granite.I18n.get("Scroll left"),TOOLTIP_UNSELECTED:Granite.I18n.get("Scroll right")},FavoritesEffect:{TOOLTIP:Granite.I18n.get("Favorite")},FavoritesButton:{TOOLTIP:Granite.I18n.get("Favorites")},AddFavoriteButton:{TOOLTIP_SELECTED:Granite.I18n.get("Disable Adding Favorite"),TOOLTIP_UNSELECTED:Granite.I18n.get("Enable Adding Favorite")},RemoveFavoriteButton:{TOOLTIP_SELECTED:Granite.I18n.get("Disable Removing Favorite"),
TOOLTIP_UNSELECTED:Granite.I18n.get("Enable Removing Favorite")},ViewAllFavoriteButton:{TOOLTIP_SELECTED:Granite.I18n.get("Hide All Favorites"),TOOLTIP_UNSELECTED:Granite.I18n.get("View All Favorites")},FavoritesMenu:{TOOLTIP:Granite.I18n.get("Favorites")},FlyoutZoomView:{TIP_BUBBLE_OVER:Granite.I18n.get("Mouse over to zoom"),TIP_BUBBLE_TAP:Granite.I18n.get("Tap and hold to zoom")},InfoPanelPopup:{TOOLTIP_CLOSE:Granite.I18n.get("Close")},SearchManager:{},SearchPanel:{PLACEHOLDER:Granite.I18n.get("Search this catalog"),
INFO_PROMPT:Granite.I18n.get("\x3cp\x3eWhat are you looking for?\x3c/p\x3e"),INFO_NO_RESULTS:Granite.I18n.get("\x3cp\x3eNo results found on this catalog for \x3cb\x3e'$SEARCH_TEXT$'\x3c/b\x3e...\x3c/p\x3e"),INFO_RESULTS:Granite.I18n.get("\x3cp\x3eFound \x3cb\x3e$HIT_COUNT$\x3c/b\x3e result(s) in \x3cb\x3e$PAGE_COUNT$\x3c/b\x3e page(s) for \x3cb\x3e'$SEARCH_TEXT$'\x3c/b\x3e.\x3c/p\x3e"),THUMBNAIL_LABEL:Granite.I18n.get("\x3cb\x3e$PAGE$ - $PAGE_HIT_COUNT$\x3c/b\x3e result(s)")},InteractiveSwatches:{BANNER:Granite.I18n.get("Click to View")},
MediaSet:{},PageScrubber:{PAGE_THUMB_TEXT:Granite.I18n.get("Page")},SetIndicator:{TOOLTIP:Granite.I18n.get("")},TableOfContents:{TOOLTIP:Granite.I18n.get("Table of Contents"),TOOLTIP_SCROLL_UP:Granite.I18n.get("Scroll up"),TOOLTIP_SCROLL_DOWN:Granite.I18n.get("Scroll down"),DELIMITER:Granite.I18n.get(" - ")},DlgActionButton:{TOOLTIP:Granite.I18n.get("")},EmailShare:{TOOLTIP:Granite.I18n.get("Email"),HEADER:Granite.I18n.get("Email Link"),TOOLTIP_HEADER_CLOSE:Granite.I18n.get("Close"),INVALID_ADDRESSS:Granite.I18n.get("Wrong email address"),
TO:Granite.I18n.get("To"),TOOLTIP_ADD:Granite.I18n.get("Add"),ADD:Granite.I18n.get("Add Another Email Address"),FROM:Granite.I18n.get("From"),MESSAGE:Granite.I18n.get("Message"),TOOLTIP_REMOVE:Granite.I18n.get("Remove"),CANCEL:Granite.I18n.get("Cancel"),TOOLTIP_CANCEL:Granite.I18n.get("Cancel"),CLOSE:Granite.I18n.get("Close"),TOOLTIP_CLOSE:Granite.I18n.get("Close"),TOOLTIP_SCROLL_UP:Granite.I18n.get("Scroll up"),TOOLTIP_SCROLL_DOWN:Granite.I18n.get("Scroll down"),ACTION:Granite.I18n.get("Send Email"),
TOOLTIP_ACTION:Granite.I18n.get("Send"),SEND_SUCCESS:Granite.I18n.get("Email sent successfully"),SEND_FAILURE:Granite.I18n.get("Send email failed")},EmbedShare:{TOOLTIP:Granite.I18n.get("Embed"),HEADER:Granite.I18n.get("Get Embed Code"),TOOLTIP_HEADER_CLOSE:Granite.I18n.get("Close"),DESCRIPTION:Granite.I18n.get("To get embed code, copy and paste: "),EMBED_SIZE:Granite.I18n.get("Embed Size"),CUSTOM_SIZE:Granite.I18n.get("Custom Size"),ACTION:Granite.I18n.get("Select All"),TOOLTIP_ACTION:Granite.I18n.get("Select All"),
CANCEL:Granite.I18n.get("Cancel"),TOOLTIP_CANCEL:Granite.I18n.get("Cancel"),TOOLTIP_SCROLL_UP:Granite.I18n.get("Scroll up"),TOOLTIP_SCROLL_DOWN:Granite.I18n.get("Scroll down")},LinkShare:{TOOLTIP:Granite.I18n.get("Link"),HEADER:Granite.I18n.get("Share Link"),TOOLTIP_HEADER_CLOSE:Granite.I18n.get("Close"),DESCRIPTION:Granite.I18n.get("To share this link, copy and paste:"),ACTION:Granite.I18n.get("Select All"),TOOLTIP_ACTION:Granite.I18n.get("Select All"),CANCEL:Granite.I18n.get("Cancel"),TOOLTIP_CANCEL:Granite.I18n.get("Cancel")},
FacebookShare:{TOOLTIP:Granite.I18n.get("Facebook")},TwitterShare:{TOOLTIP:Granite.I18n.get("Twitter")},SocialShare:{TOOLTIP:Granite.I18n.get("Social Share")},CustomComboBox:{TOOLTIP:Granite.I18n.get("Select")},SocialDialog:{HEADER:Granite.I18n.get(""),TOOLTIP_HEADER_CLOSE:Granite.I18n.get(""),CANCEL:Granite.I18n.get("Cancel"),TOOLTIP_CANCEL:Granite.I18n.get("Cancel"),TOOLTIP_SCROLL_UP:Granite.I18n.get("Scroll up"),TOOLTIP_SCROLL_DOWN:Granite.I18n.get("Scroll down"),ACTION:Granite.I18n.get(""),TOOLTIP_ACTION:Granite.I18n.get("")},
LinkDialog:{HEADER:Granite.I18n.get("Share Link"),DESCRIPTION:Granite.I18n.get("To share this content with others, copy and past this link:"),ACTION:Granite.I18n.get("Select All"),TOOLTIP_ACTION:Granite.I18n.get("Select All"),CANCEL:Granite.I18n.get("Cancel"),TOOLTIP_CANCEL:Granite.I18n.get("Cancel")},EmailDialog:{HEADER:Granite.I18n.get("Email this to a Friend"),INVALID_ADDRESSS:Granite.I18n.get("Wrong email address"),TO:Granite.I18n.get("To"),TOOLTIP_ADD:Granite.I18n.get("Add"),ADD:Granite.I18n.get("Add Another Email Address"),
FROM:Granite.I18n.get("From"),MESSAGE:Granite.I18n.get("Message"),TOOLTIP_REMOVE:Granite.I18n.get("Remove"),CANCEL:Granite.I18n.get("Cancel"),TOOLTIP_CANCEL:Granite.I18n.get("Cancel"),CLOSE:Granite.I18n.get("Close"),TOOLTIP_CLOSE:Granite.I18n.get("Close"),TOOLTIP_SCROLL_UP:Granite.I18n.get("Scroll up"),TOOLTIP_SCROLL_DOWN:Granite.I18n.get("Scroll down"),ACTION:Granite.I18n.get("Send Email"),TOOLTIP_ACTION:Granite.I18n.get("Send"),SEND_SUCCESS:Granite.I18n.get("Email sent successfully"),SEND_FAILURE:Granite.I18n.get("Send email failed")},
EmbedDialog:{HEADER:Granite.I18n.get("Embed Link"),DESCRIPTION:Granite.I18n.get("To share this content with others, copy and past this code:"),EMBED_SIZE:Granite.I18n.get("Embed Size"),TOOLTIP_SCROLL_UP:Granite.I18n.get("Scroll up"),TOOLTIP_SCROLL_DOWN:Granite.I18n.get("Scroll down"),CUSTOM_SIZE:Granite.I18n.get("Custom Size"),ACTION:Granite.I18n.get("Select All"),TOOLTIP_ACTION:Granite.I18n.get("Select All"),CANCEL:Granite.I18n.get("Cancel"),TOOLTIP_CANCEL:Granite.I18n.get("Cancel")},Print:{TOOLTIP:Granite.I18n.get("Prepare to print"),
HEADER:Granite.I18n.get("Prepare to print"),TOOLTIP_HEADER_CLOSE:Granite.I18n.get("Close"),PRINT_RANGE:Granite.I18n.get("Select Print Pages"),PRINT_RANGE_CURRENT:Granite.I18n.get("Current pages"),PRINT_RANGE_FROM:Granite.I18n.get("Spread range from:"),PRINT_RANGE_TO:Granite.I18n.get("to:"),PRINT_RANGE_ALL:Granite.I18n.get("All pages"),PAGE_HANDLING:Granite.I18n.get("Page Handling"),PAGE_HANDLING_ONE:Granite.I18n.get("1 page per sheet"),PAGE_HANDLING_TWO:Granite.I18n.get("2 pages per sheet"),ACTION:Granite.I18n.get("Send to Print"),
TOOLTIP_ACTION:Granite.I18n.get("Send to Print"),CANCEL:Granite.I18n.get("Cancel"),TOOLTIP_CANCEL:Granite.I18n.get("Cancel")},PrintDialog:{HEADER:Granite.I18n.get(""),PRINT_RANGE:Granite.I18n.get(""),PRINT_RANGE_CURRENT:Granite.I18n.get(""),PRINT_RANGE_FROM:Granite.I18n.get(""),PRINT_RANGE_TO:Granite.I18n.get(""),PRINT_RANGE_ALL:Granite.I18n.get(""),PAGE_HANDLING:Granite.I18n.get(""),PAGE_HANDLING_ONE:Granite.I18n.get(""),PAGE_HANDLING_TWO:Granite.I18n.get(""),ACTION:Granite.I18n.get(""),TOOLTIP_ACTION:Granite.I18n.get(""),
CANCEL:Granite.I18n.get(""),TOOLTIP_CANCEL:Granite.I18n.get("")},VideoTime:{TOOLTIP:Granite.I18n.get("Video Time")},VideoScrubber:{TOOLTIP:Granite.I18n.get("Seek Video")},VerticalVolume:{TOOLTIP:Granite.I18n.get("")},MutableVolume:{TOOLTIP_SELECTED:Granite.I18n.get("Video Volume"),TOOLTIP_UNSELECTED:Granite.I18n.get("Video Volume")},VideoPlayer:{ERROR:Granite.I18n.get("Your Browser does not support HTML5 Video tag or the video cannot be played.")}});
var ccPlayer=function(d,g){this.menu=g;this.viewer=d;var b=this;this.initCaptions=function(){$("#"+b.viewer.containerId+" .s7closedcaptionbutton").html('\x3cdiv class\x3d"ni-caption-menu"\x3e\x3cul\x3e\x3c/ul\x3e\x3c/div\x3e');for(var d=0;d<b.menu.length;d++)$("#"+b.viewer.containerId+" .s7closedcaptionbutton ul").append('\x3cli class\x3d"ni-caption-menu-item" data-caption\x3d"'+b.menu[d].value+'"\x3e'+b.menu[d].label+"\x3c/li\x3e");b.viewer.closedCaptionButton.component.toolTip_.toolTip_=null;$("#"+
b.viewer.containerId+" .s7closedcaptionbutton .ni-caption-menu-item").click(function(d){var g=$(this).data("caption"),h=b.viewer.videoplayer.component.caption.file;"off"==g?(b.viewer.videoplayer.setCaptionEnabled(!1),b.viewer.closedCaptionButton.setSelected(!1),b.setSelected()):(b.viewer.videoplayer.setCaptionEnabled(!0),b.viewer.closedCaptionButton.setSelected(!0),h!=g?b.setCaption(g):b.setSelected());d.stopPropagation()});b.setSelected()};this.setSelected=function(){var d=b.viewer.videoplayer.getCaptionEnabled(),
g=b.viewer.videoplayer.component.caption.file;$("#"+b.viewer.containerId+" .ni-caption-menu-item").removeClass("selected");d?$("#"+b.viewer.containerId+" .ni-caption-menu-item").each(function(){var b=$(this).data("caption");g==b&&$(this).addClass("selected")}):$("#"+b.viewer.containerId+' .ni-caption-menu-item[data-caption\x3d"off"]').addClass("selected")};this.setCaption=function(d){b.viewer.videoplayer.component.caption.file=d;b.viewer.videoplayer.component.captionCues=[];b.viewer.videoplayer.loadWebVTT();
b.setSelected()}};